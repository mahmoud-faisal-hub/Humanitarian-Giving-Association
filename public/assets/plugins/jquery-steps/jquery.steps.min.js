/*!
 * jQuery Steps v1.1.0 - 09/04/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
!function(p,o){p.fn.extend({_aria:function(e,t){return this.attr("aria-"+e,t)},_removeAria:function(e){return this.removeAttr("aria-"+e)},_enableAria:function(e){return null==e||e?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(e){return null==e||e?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(e){return null==e||e?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(e){return e?this.attr("id",e):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var e=1===arguments.length&&p.isArray(arguments[0])?arguments[0]:arguments,t=this,n=0;n<e.length;n++)var r=new RegExp("\\{"+n+"\\}","gm"),t=t.replace(r,e[n]);return t});var u=0,a="jQu3ry_5teps_St@te_",c="-t-",f="-p-",h="-h-",l="Index out of range.",d="One or more corresponding step {0} are missing.";function v(i,e,t){var n=i.children(e.headerTag),s=i.children(e.bodyTag);n.length>s.length?j(d,"contents"):n.length<s.length&&j(d,"titles");var r=e.startIndex;t.stepCount=n.length,e.saveState&&p.cookie&&(e=p.cookie(a+_(i)),e=parseInt(e,0),!isNaN(e)&&e<t.stepCount&&(r=e)),t.currentIndex=r,n.each(function(e){var t=p(this),n=s.eq(e),r=n.data("mode"),a=null==r?z.html:A(z,/^\s*$/.test(r)||isNaN(r)?r:parseInt(r,0)),e=a===z.html||n.data("url")===o?"":n.data("url"),r=a!==z.html&&"1"===n.data("loaded"),r=p.extend({},K,{title:t.html(),content:a===z.html?n.html():"",contentUrl:e,contentMode:a,contentLoaded:r});r=r,y(i).push(r)})}function s(e,t){var n=e.find(".steps li").eq(t.currentIndex);e.triggerHandler("finishing",[t.currentIndex])?(n.addClass("done").removeClass("error"),e.triggerHandler("finished",[t.currentIndex])):n.addClass("error")}function m(e){var t=e.data("eventNamespace");return null==t&&(t="."+_(e),e.data("eventNamespace",t)),t}function C(e,t){var n=_(e);return e.find("#"+n+c+t)}function b(e,t){var n=_(e);return e.find("#"+n+f+t)}function g(e){return e.data("options")}function x(e){return e.data("state")}function y(e){return e.data("steps")}function I(e,t){e=y(e);return(t<0||t>=e.length)&&j(l),e[t]}function _(e){var t=e.data("uid");return null==t&&(null==(t=e._id())&&(t="steps-uid-".concat(u),e._id(t)),u++,e.data("uid",t)),t}function A(e,t){if(U("enumType",e),U("keyOrValue",t),"string"==typeof t){var n=e[t];return n===o&&j("The enum key '{0}' does not exist.",t),n}if("number"==typeof t){for(var r in e)if(e[r]===t)return t;j("Invalid enum value '{0}'.",t)}else j("Invalid key or value type.")}function w(e,t,n){return r(e,t,n,(t=1,n.currentIndex+t))}function F(e,t,n){return r(e,t,n,(t=1,n.currentIndex-t))}function T(e,t,n,r){if((r<0||r>=n.stepCount)&&j(l),!(t.forceMoveForward&&r<n.currentIndex)){var a=n.currentIndex;return e.triggerHandler("stepChanging",[n.currentIndex,r])?(n.currentIndex=r,H(e,t,n),E(e,t,n,a),D(e,t,n),S(e,t,n),function(e,t,n,r,a,i){var e=e.find(".content > .body"),s=A(Q,t.transitionEffect),o=t.transitionEffectSpeed,l=e.eq(r),d=e.eq(a);switch(s){case Q.fade:case Q.slide:var u=s===Q.fade?"fadeOut":"slideUp",c=s===Q.fade?"fadeIn":"slideDown";n.transitionElement=l,d[u](o,function(){var e=x(p(this)._showAria(!1).parent().parent());e.transitionElement&&(e.transitionElement[c](o,function(){p(this)._showAria()}).promise().done(i),e.transitionElement=null)});break;case Q.slideLeft:var f=d.outerWidth(!0),u=a<r?-f:f,f=a<r?f:-f;p.when(d.animate({left:u},o,function(){p(this)._showAria(!1)}),l.css("left",f+"px")._showAria().animate({left:0},o)).done(i);break;default:p.when(d._showAria(!1),l._showAria()).done(i)}}(e,t,n,r,a,function(){e.triggerHandler("stepChanged",[r,a])})):e.find(".steps li").eq(a).addClass("error"),1}}function t(e){var d=p.extend(!0,{},R,e);return this.each(function(){var t,n,r,e,a,i,s,o=p(this),l={currentIndex:d.startIndex,currentStep:null,stepCount:0,transitionElement:null};o.data("options",d),o.data("state",l),o.data("steps",[]),v(o,d,l),t=o,r=l,i='<{0} class="{1}">{2}</{0}>',s=A($,(n=d).stepsOrientation)===$.vertical?" vertical":"",e=p(i.format(n.contentContainerTag,"content "+n.clearFixCssClass,t.html())),a=p(i.format(n.stepsContainerTag,"steps "+n.clearFixCssClass,'<ul role="tablist"></ul>')),l=e.children(n.headerTag),i=e.children(n.bodyTag),t.attr("role","application").empty().append(a).append(e).addClass(n.cssClass+" "+n.clearFixCssClass+s),i.each(function(e){L(t,r,p(this),e)}),l.each(function(e){B(t,n,r,p(this),e)}),E(t,n,r),function(e,t,n){var r,a;t.enablePagination&&(r='<li><a href="#{0}" role="menuitem">{1}</a></li>',a="",t.forceMoveForward||(a+=r.format("previous",t.labels.previous)),a+=r.format("next",t.labels.next),t.enableFinishButton&&(a+=r.format("finish",t.labels.finish)),t.enableCancelButton&&(a+=r.format("cancel",t.labels.cancel)),e.append('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>'.format(t.actionContainerTag,t.clearFixCssClass,t.labels.pagination,a)),D(e,t,n),S(e,t,n))}(t,n,r),s=d,l=m(i=o),i.bind("canceled"+l,s.onCanceled),i.bind("contentLoaded"+l,s.onContentLoaded),i.bind("finishing"+l,s.onFinishing),i.bind("finished"+l,s.onFinished),i.bind("init"+l,s.onInit),i.bind("stepChanging"+l,s.onStepChanging),i.bind("stepChanged"+l,s.onStepChanged),s.enableKeyNavigation&&i.bind("keyup"+l,k),i.find(".actions a").bind("click"+l,q),d.autoFocus&&0===u&&C(o,d.startIndex).focus(),o.triggerHandler("init",[d.startIndex])})}function n(e,t,n,r,a){(r<0||r>n.stepCount)&&j(l),a=p.extend({},K,a),s=r,o=a,y(e).splice(s,0,o),n.currentIndex!==n.stepCount&&n.currentIndex>=r&&(n.currentIndex++,H(e,t,n)),n.stepCount++;var i=e.find(".content"),s=p("<{0}>{1}</{0}>".format(t.headerTag,a.title)),o=p("<{0}></{0}>".format(t.bodyTag));return null!=a.contentMode&&a.contentMode!==z.html||o.html(a.content),0===r?i.prepend(o).prepend(s):b(e,r-1).after(o).after(s),L(e,n,o,r),B(e,t,n,s,r),M(e,t,n,r),r===n.currentIndex&&E(e,t,n),D(e,t,n),e}function k(e){var t=p(this),n=g(t),r=x(t);if(n.suppressPaginationOnFocus&&t.find(":focus").is(":input"))return e.preventDefault(),!1;var a=37,i=39;e.keyCode===a?(e.preventDefault(),F(t,n,r)):e.keyCode===i&&(e.preventDefault(),w(t,n,r))}function S(t,e,n){if(0<n.stepCount){var r=n.currentIndex,a=I(t,r);if(!e.enableContentCache||!a.contentLoaded)switch(A(z,a.contentMode)){case z.iframe:t.find(".content > .body").eq(n.currentIndex).empty().html('<iframe src="'+a.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case z.async:var i=b(t,r)._aria("busy","true").empty().append(O(e.loadingTemplate,{text:e.labels.loading}));p.ajax({url:a.contentUrl,cache:!1}).done(function(e){i.empty().html(e)._aria("busy","false").data("loaded","1"),t.triggerHandler("contentLoaded",[r])})}}}function r(e,t,n,r){var a=n.currentIndex;if(!(0<=r&&r<n.stepCount)||t.forceMoveForward&&r<n.currentIndex)return!1;t=C(e,r),e=t.parent(),r=e.hasClass("disabled");return e._enableAria(),t.click(),a!==n.currentIndex||!r||(e._enableAria(!1),!1)}function q(e){e.preventDefault();var e=p(this),t=e.parent().parent().parent().parent(),n=g(t),r=x(t),e=e.attr("href");switch(e.substring(e.lastIndexOf("#")+1)){case"cancel":t.triggerHandler("canceled");break;case"finish":s(t,r);break;case"next":w(t,n,r);break;case"previous":F(t,n,r)}}function D(e,t,n){var r,a;t.enablePagination&&(r=e.find(".actions a[href$='#finish']").parent(),a=e.find(".actions a[href$='#next']").parent(),t.forceMoveForward||e.find(".actions a[href$='#previous']").parent()._enableAria(0<n.currentIndex),t.enableFinishButton&&t.showFinishButtonAlways?(r._enableAria(0<n.stepCount),a._enableAria(1<n.stepCount&&n.stepCount>n.currentIndex+1)):(r._showAria(t.enableFinishButton&&n.stepCount===n.currentIndex+1),a._showAria(0===n.stepCount||n.stepCount>n.currentIndex+1)._enableAria(n.stepCount>n.currentIndex+1||!t.enableFinishButton)))}function E(e,t,n,r){var a=C(e,n.currentIndex),i=p('<span class="current-info audible">'+t.labels.current+" </span>"),t=e.find(".content > .title");null!=r&&((e=C(e,r)).parent().addClass("done").removeClass("error")._selectAria(!1),t.eq(r).removeClass("current").next(".body").removeClass("current"),i=e.find(".current-info"),a.focus()),a.prepend(i).parent()._selectAria().removeClass("done")._enableAria(),t.eq(n.currentIndex).addClass("current").next(".body").addClass("current")}function M(e,t,n,r){for(var a=_(e),i=r;i<n.stepCount;i++){var s=a+c+i,o=a+f+i,l=a+h+i,d=e.find(".title").eq(i)._id(l);e.find(".steps a").eq(i)._id(s)._aria("controls",o).attr("href","#"+l).html(O(t.titleTemplate,{index:i+1,title:d.html()})),e.find(".body").eq(i)._id(o)._aria("labelledby",l)}}function N(e,t,n,r){return!(r<0||r>=n.stepCount||n.currentIndex===r)&&(s=r,y(e).splice(s,1),n.currentIndex>r&&(n.currentIndex--,H(e,t,n)),n.stepCount--,i=r,s=_(a=e),a.find("#"+s+h+i).remove(),b(e,r).remove(),C(e,r).parent().remove(),0===r&&e.find(".steps li").first().addClass("first"),r===n.stepCount&&e.find(".steps li").eq(r).addClass("last"),M(e,t,n,r),D(e,t,n),!0);var a,i,s}function L(e,t,n,r){var a=_(e),e=a+f+r,a=a+h+r;n._id(e).attr("role","tabpanel")._aria("labelledby",a).addClass("body")._showAria(t.currentIndex===r)}function O(e,t){for(var n=e.match(/#([a-z]*)#/gi),r=0;r<n.length;r++){var a=n[r],i=a.substring(1,a.length-1);t[i]===o&&j("The key '{0}' does not exist in the substitute collection!",i),e=e.replace(a,t[i])}return e}function B(e,t,n,r,a){var i=_(e),s=i+c+a,o=i+f+a,l=i+h+a,d=e.find(".steps > ul"),i=O(t.titleTemplate,{index:a+1,title:r.html()}),i=p('<li role="tab"><a id="'+s+'" href="#'+l+'" aria-controls="'+o+'">'+i+"</a></li>");i._enableAria(t.enableAllSteps||n.currentIndex>a),n.currentIndex>a&&i.addClass("done"),r._id(l).attr("tabindex","-1").addClass("title"),0===a?d.prepend(i):d.find("li").eq(a-1).after(i),0===a&&d.find("li").removeClass("first").eq(a).addClass("first"),a===n.stepCount-1&&d.find("li").removeClass("last").eq(a).addClass("last"),i.children("a").bind("click"+m(e),P)}function H(e,t,n){t.saveState&&p.cookie&&p.cookie(a+_(e),n.currentIndex)}function P(e){e.preventDefault();var t=p(this),n=t.parent().parent().parent().parent(),r=g(n),a=x(n),e=a.currentIndex;if(t.parent().is(":not(.disabled):not(.current)")&&(t=t.attr("href"),T(n,r,a,parseInt(t.substring(t.lastIndexOf("-")+1),0))),e===a.currentIndex)return C(n,e).focus(),!1}function j(e){throw 1<arguments.length&&(e=e.format(Array.prototype.slice.call(arguments,1))),new Error(e)}function U(e,t){null==t&&j("The argument '{0}' is null or undefined.",e)}p.fn.steps=function(e){return p.fn.steps[e]?p.fn.steps[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void p.error("Method "+e+" does not exist on jQuery.steps"):t.apply(this,arguments)},p.fn.steps.add=function(e){var t=x(this);return n(this,g(this),t,t.stepCount,e)},p.fn.steps.destroy=function(){return t=g(e=this),n=m(e),e.unbind(n).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(n),e.removeClass(t.clearFixCssClass+" vertical"),(n=e.find(".content > *")).removeData("loaded").removeData("mode").removeData("url"),n.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),e.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty(),t=p('<{0} class="{1}"></{0}>'.format(e.get(0).tagName,e.attr("class"))),null!=(n=e._id())&&""!==n&&t._id(n),t.html(e.find(".content").html()),e.after(t),e.remove(),t;var e,t,n},p.fn.steps.finish=function(){s(this,x(this))},p.fn.steps.getCurrentIndex=function(){return x(this).currentIndex},p.fn.steps.getCurrentStep=function(){return I(this,x(this).currentIndex)},p.fn.steps.getStep=function(e){return I(this,e)},p.fn.steps.insert=function(e,t){return n(this,g(this),x(this),e,t)},p.fn.steps.next=function(){return w(this,g(this),x(this))},p.fn.steps.previous=function(){return F(this,g(this),x(this))},p.fn.steps.remove=function(e){return N(this,g(this),x(this),e)},p.fn.steps.setStep=function(e,t){throw new Error("Not yet implemented!")},p.fn.steps.skip=function(e){throw new Error("Not yet implemented!")};var z=p.fn.steps.contentMode={html:0,iframe:1,async:2},$=p.fn.steps.stepsOrientation={horizontal:0,vertical:1},Q=p.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},K=p.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:z.html,contentLoaded:!1},R=p.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:$.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:Q.none,transitionEffectSpeed:200,onStepChanging:function(e,t,n){return!0},onStepChanged:function(e,t,n){},onCanceled:function(e){},onFinishing:function(e,t){return!0},onFinished:function(e,t){},onContentLoaded:function(e,t){},onInit:function(e,t){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}};p.fn.steps.reset=function(){var e=g(this),t=x(this);for(T(this,e,t,0),i=1;i<t.stepCount;i++)C(this,i).parent().removeClass("done")._enableAria(!1)}}(jQuery);
